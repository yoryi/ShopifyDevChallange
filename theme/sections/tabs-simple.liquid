{% schema %}
{
  "name": "Tabs",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_tabs",
      "label": "Show Tabs",
      "default": true
    },
    {
      "type": "number",
      "id": "tab_font_size",
      "label": "Font size",
      "default": 20
    },
    {
      "type": "color",
      "id": "tab_text_color",
      "label": "Text color",
      "default": "#000000"
    }
  ],
  "blocks": [
    {
      "type": "text",
      "name": "t:sections.tabs-simple.blocks.column.name",
      "settings": [
        {
          "id": "tab_title",
          "type": "text",
          "label": "Tab"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.tabs-simple.presets.name",
      "blocks": [
        {
          "type": "text"
        },
        {
          "type": "text"
        },
        {
          "type": "text"
        }
      ]
    }
  ]
}
{% endschema %}

<div class="tabs-container">
  {% if section.settings.show_tabs %}
    <ul class="tabs tw-list-none tw-flex tw-px-0 tw-py-1 tw-mx-2 tw-my-10 tw-border-0 tw-border-b tw-border-b-black tw-border-opacity-20 tw-border-solid tw-cursor-pointer">
      {%- for block in section.blocks -%}
        <li style="font-size: {{ section.settings.tab_font_size }}px; color: {{ section.settings.tab_text_color }}" class="tab1 tw-text-center tw-w-[100px]">{{ block.settings.tab_title }}</li>
      {%- endfor -%}
    </ul>
    <div class="tab-content tw-pl-10">
      {%- for block in section.blocks -%}
        <div class="content1 hidden">Content for {{ block.settings.tab_title }}</div>
      {%- endfor -%}
    </div>
  {% endif %}
</div>

<script>
  const tabs = document.querySelectorAll('.tab1');
  const tabContents = document.querySelectorAll('.content1');

  tabs.forEach((tab, index) => {
    tab.addEventListener('click', () => {
      tabContents.forEach((content) => content.classList.add('hidden'));
      tabContents[index].classList.remove('hidden');
    });
  });
</script>
